# TallSchoolEcosystem

### Author
### Current Doc Version

## 1. Introduction

### Project name

### Brief description (what the system does and for whom)

### Project goal (what problem it solves)

### Product Hystory
<details>
  <summary>Изначально проект был придумал и оформлен как MVP с моей стороны. Потенциальный заказчик откликнулся и дал зеленый свет полноценной разработке</summary>
  Здесь описание первой темы.
</details>
---

## 2. Overall Architecture

### Architectural approach: Event-Driven Microservices Architecture
<details>
  <summary>Саммари</summary>
  Здесь описание первой темы.
</details>

### Core principles (asynchronous, independent, scalable)
<details>
  <summary>Саммари</summary>
  Здесь описание первой темы.
</details>

### List of microservices and their responsibilities
<details>
  <summary>Саммари</summary>
  Здесь описание первой темы.
</details>

### Architecture diagram (optional)
<details>
  <summary>Саммари</summary>
  Здесь описание первой темы.
</details>

---

## 3. Technology Stack

### Frontend: Angular, Angular Material, Zustand
<details>
  <summary>Саммари</summary>
  Здесь описание первой темы.
</details>

### Backend: Bun, REST API
<details>
  <summary>Саммари</summary>
  Здесь описание первой темы.
</details>

### Messaging: Kafka + Schema Registry
<details>
  <summary>Саммари</summary>
  Здесь описание первой темы.
</details>

### Databases: PostgreSQL (auth), MongoDB (content)
<details>
  <summary>Саммари</summary>
  Здесь описание первой темы.
</details>

### Deployment: Docker Compose + AWS
<details>
  <summary>Саммари</summary>
  Здесь описание первой темы.
</details>

### Desktop & Mobile: Electron / Cordova
<details>
  <summary>Саммари</summary>
  Здесь описание первой темы.
</details>

### Monitoring: ELK, Prometheus + Grafana
<details>
  <summary>Саммари</summary>
  Здесь описание первой темы.
</details>

---

## 4. Users and Roles
<details>
  <summary>Саммари</summary>
  Здесь описание первой темы.
</details>

### List of roles (Technical Admin, Educational Admin, Teacher, Student)
<details>
  <summary>Саммари</summary>
  Здесь описание первой темы.
</details>

### Description of permissions and access zones
<details>
  <summary>Саммари</summary>
  Здесь описание первой темы.
</details>

### Authentication and authorization service (Profile Service, JWT, Argon2, Refresh Tokens)
<details>
  <summary>Саммари</summary>
  Здесь описание первой темы.
</details>

---

## 5. Microservice Descriptions
<details>
  <summary>Саммари</summary>
  Здесь описание первой темы.
</details>

### microservice schema
<details>
  <summary>(Examples: Profile, Lobby, Thematic Cards, Learning Cards, Reader, Video Tests, Admin, PII)</summary>
  Здесь описание первой темы.
</details>




#### Profile:
<details>
  <summary>Profile Саммари</summary>
##### Name and purpose
 Здесь описание первой темы.
##### Main API endpoints
 Здесь описание первой темы.
##### Kafka events (topics, schemas, version)
 Здесь описание первой темы.
##### Databases and collections used
 Здесь описание первой темы.
##### External integrations (AWS S3, Secrets Manager, etc.)
</details>

#### Lobby:
<details>
  <summary>Lobby Саммари</summary>
##### Name and purpose
 Здесь описание первой темы.
##### Main API endpoints
 Здесь описание первой темы.
##### Kafka events (topics, schemas, version)
 Здесь описание первой темы.
##### Databases and collections used
 Здесь описание первой темы.
##### External integrations (AWS S3, Secrets Manager, etc.)
</details>

#### Thematic Cards:
<details>
  <summary>Thematic Cards Саммари</summary>
##### Name and purpose
 Здесь описание первой темы.
##### Main API endpoints
 Здесь описание первой темы.
##### Kafka events (topics, schemas, version)
 Здесь описание первой темы.
##### Databases and collections used
 Здесь описание первой темы.
##### External integrations (AWS S3, Secrets Manager, etc.)
</details>

#### Learning Cards:
<details>
  <summary>Learning Cards Саммари</summary>
##### Name and purpose
 Здесь описание первой темы.
##### Main API endpoints
 Здесь описание первой темы.
##### Kafka events (topics, schemas, version)
 Здесь описание первой темы.
##### Databases and collections used
 Здесь описание первой темы.
##### External integrations (AWS S3, Secrets Manager, etc.)
</details>

#### Reader:
<details>
  <summary>Reader Саммари</summary>
##### Name and purpose
 Здесь описание первой темы.
##### Main API endpoints
 Здесь описание первой темы.
##### Kafka events (topics, schemas, version)
 Здесь описание первой темы.
##### Databases and collections used
 Здесь описание первой темы.
##### External integrations (AWS S3, Secrets Manager, etc.)
</details>

#### Video Tests:
<details>
  <summary>Video Tests Саммари</summary>
##### Name and purpose
 Здесь описание первой темы.
##### Main API endpoints
 Здесь описание первой темы.
##### Kafka events (topics, schemas, version)
 Здесь описание первой темы.
##### Databases and collections used
 Здесь описание первой темы.
##### External integrations (AWS S3, Secrets Manager, etc.)
</details>

#### Admin:
<details>
  <summary>Admin Саммари</summary>
##### Name and purpose
 Здесь описание первой темы.
##### Main API endpoints
 Здесь описание первой темы.
##### Kafka events (topics, schemas, version)
 Здесь описание первой темы.
##### Databases and collections used
 Здесь описание первой темы.
##### External integrations (AWS S3, Secrets Manager, etc.)
</details>

#### PII:
<details>
  <summary>PII Саммари</summary>
##### Name and purpose
 Здесь описание первой темы.
##### Main API endpoints
 Здесь описание первой темы.
##### Kafka events (topics, schemas, version)
 Здесь описание первой темы.
##### Databases and collections used
 Здесь описание первой темы.
##### External integrations (AWS S3, Secrets Manager, etc.)
</details>

#### For each microservice:
<details>
  <summary>Саммари</summary>
##### Name and purpose
 Здесь описание первой темы.
##### Main API endpoints
 Здесь описание первой темы.
##### Kafka events (topics, schemas, version)
 Здесь описание первой темы.
##### Databases and collections used
 Здесь описание первой темы.
##### External integrations (AWS S3, Secrets Manager, etc.)
</details>

#### For each microservice:
<details>
  <summary>Саммари</summary>
##### Name and purpose
 Здесь описание первой темы.
##### Main API endpoints
 Здесь описание первой темы.
##### Kafka events (topics, schemas, version)
 Здесь описание первой темы.
##### Databases and collections used
 Здесь описание первой темы.
##### External integrations (AWS S3, Secrets Manager, etc.)
</details>
---

## 6. Integration and Communication
<details>
  <summary>Саммари</summary>
  Здесь описание первой темы.
</details>

### Data exchange mechanisms (Kafka topics)
<details>
  <summary>Саммари</summary>
  Здесь описание первой темы.
</details>

### Versioning principles:
<details>
  <summary>Саммари</summary>
  Здесь описание первой темы.
</details>

### API (/api/v1, /api/v2)
<details>
  <summary>Саммари</summary>
  Здесь описание первой темы.
</details>

### Kafka topics (user.events.v2)
<details>
  <summary>Саммари</summary>
  Здесь описание первой темы.
</details>

### Schema Registry (schema versions)
<details>
  <summary>Саммари</summary>
  Здесь описание первой темы.
</details>

### Client version checks
<details>
  <summary>Саммари</summary>
  Здесь описание первой темы.
</details>

### Scheduled tasks and cron jobs (e.g., weekly cohort updates)
<details>
  <summary>Саммари</summary>
  Здесь описание первой темы.
</details>

---

## 7. Data and Storage
<details>
  <summary>Саммари</summary>
  Здесь описание первой темы.
</details>

### General data model
<details>
  <summary>Саммари</summary>
  Здесь описание первой темы.
</details>

### Division between PostgreSQL / MongoDB
<details>
  <summary>Саммари</summary>
  Здесь описание первой темы.
</details>

### AWS S3 storage per service
<details>
  <summary>Саммари</summary>
  Здесь описание первой темы.
</details>

### Media storage (audio, video, images, texts)
<details>
  <summary>Саммари</summary>
  Здесь описание первой темы.
</details>

### Caching (LocalStorage, per-service in-memory cache)
<details>
  <summary>Саммари</summary>
  Здесь описание первой темы.
</details>

### Session state and progress restoration
<details>
  <summary>Саммари</summary>
  Здесь описание первой темы.
</details>

---

## 8. Security and PII
<details>
  <summary>Саммари</summary>
  Здесь описание первой темы.
</details>

### Isolation of personal data (PII Service)
<details>
  <summary>Саммари</summary>
  Здесь описание первой темы.
</details>

### Encryption: AES-256-GCM, keys stored in AWS Secrets Manager
<details>
  <summary>Саммари</summary>
  Здесь описание первой темы.
</details>

### Password hashing: Argon2
<details>
  <summary>Саммари</summary>
  Здесь описание первой темы.
</details>

### Token-based authorization (Access + Refresh tokens)
<details>
  <summary>Саммари</summary>
  Здесь описание первой темы.
</details>

### Key rotation and access audit (Kafka pii.access.log)
<details>
  <summary>Саммари</summary>
  Здесь описание первой темы.
</details>

### GDPR compliance: export/delete endpoints, user.pii.updated event
<details>
  <summary>Саммари</summary>
  Здесь описание первой темы.
</details>

---

## 9. Logging and Monitoring

### Application logs → ELK
<details>
  <summary>Саммари</summary>
  Здесь описание первой темы.
</details>

### Event logs → Kafka + S3 archive
<details>
  <summary>Саммари</summary>
  Здесь описание первой темы.
</details>

### System logs → ELK
<details>
  <summary>Саммари</summary>
  Здесь описание первой темы.
</details>

### Metrics / traces → Prometheus + Grafana
<details>
  <summary>Саммари</summary>
  Здесь описание первой темы.
</details>

### Log retention and storage policies
<details>
  <summary>Саммари</summary>
  Здесь описание первой темы.
</details>

---

## 10. DevOps and CI/CD

### GitHub repositories (separate for each service, frontend/backend)
<details>
  <summary>Саммари</summary>
  Здесь описание первой темы.
</details>

### Auto-deployment on push to main
<details>
  <summary>Саммари</summary>
  Здесь описание первой темы.
</details>

### Docker Compose and AWS deployment
<details>
  <summary>Саммари</summary>
  Здесь описание первой темы.
</details>

### Environments: local / production
<details>
  <summary>Саммари</summary>
  Здесь описание первой темы.
</details>

### Planned addition of dev / staging environments
<details>
  <summary>Саммари</summary>
  Здесь описание первой темы.
</details>

---

## 11. Testing and Quality

### Unit tests (Vitest, Jest)
<details>
  <summary>Саммари</summary>
  Здесь описание первой темы.
</details>

### Integration tests (Testcontainers, Supertest)
<details>
  <summary>Саммари</summary>
  Здесь описание первой темы.
</details>

### End-to-End tests (Playwright)
<details>
  <summary>Саммари</summary>
  Здесь описание первой темы.
</details>

### Contract tests (Pact + Schema Registry)
<details>
  <summary>Саммари</summary>
  Здесь описание первой темы.
</details>

### Load testing (k6, Kafka performance tools)
<details>
  <summary>Саммари</summary>
  Здесь описание первой темы.
</details>

### CI test integration (GitHub Actions)
<details>
  <summary>Саммари</summary>
  Здесь описание первой темы.
</details>

---

## 12. Monitoring and Incident Response

### Metrics tracked (latency, throughput, consumer lag)
<details>
  <summary>Саммари</summary>
  Здесь описание первой темы.
</details>

### Alerting (Grafana Alerts / Slack / Email)
<details>
  <summary>Саммари</summary>
  Здесь описание первой темы.
</details>

### Failure response scenarios (rollback, redeploy)
<details>
  <summary>Саммари</summary>
  Здесь описание первой темы.
</details>

---

## 13. Roadmap and Future Development
Здесь описание первой темы.

### Transition to staging environment
<details>
  <summary>Саммари</summary>
  Здесь описание первой темы.
</details>

### Introduction of a centralized PII service
<details>
  <summary>Саммари</summary>
  Здесь описание первой темы.
</details>

### Automated progress analytics
<details>
  <summary>Саммари</summary>
  Здесь описание первой темы.
</details>

### Auto-scaling (AWS ECS / Kubernetes)
<details>
  <summary>Саммари</summary>
  Здесь описание первой темы.
</details>

### Offline-first support
<details>
  <summary>Саммари</summary>
  Здесь описание первой темы.
</details>

